<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>斜杠命令 - CodeBuddy Code</title>
  <meta name="description" content="CodeBuddy Code 斜杠命令完整指南，包含内置命令和自定义命令的详细说明">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="flag"></div>
  
  <header>
    <div class="header-content">
      <div class="logo">
        <div class="logo-icon">CB</div>
        <span>CodeBuddy Code</span>
      </div>
      <nav>
        <a href="index.html">首页</a>
        <a href="docs.html">文档</a>
        <a class="active" href="slash.html">斜杠命令</a>
        <a href="support.html">支持与安全</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <div class="section">
      <h2>⚡ 内置斜杠命令</h2>
      <p>这些命令用于管理您的 CodeBuddy Code 会话，在聊天中直接输入即可使用。</p>
      
      <table>
        <thead>
          <tr>
            <th>命令</th>
            <th>支持状态</th>
            <th>描述</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>/help</code></td>
            <td><span class="badge supported">✅ 支持</span></td>
            <td>显示帮助信息，并提供反馈渠道的指引</td>
          </tr>
          <tr>
            <td><code>/clear</code></td>
            <td><span class="badge supported">✅ 支持</span></td>
            <td>清除当前对话的上下文历史记录，开始新对话</td>
          </tr>
          <tr>
            <td><code>/login</code></td>
            <td><span class="badge supported">✅ 支持</span></td>
            <td>登录到您的云开发环境</td>
          </tr>
          <tr>
            <td><code>/logout</code></td>
            <td><span class="badge supported">✅ 支持</span></td>
            <td>退出当前的云开发环境</td>
          </tr>
          <tr>
            <td><code>/doctor</code></td>
            <td><span class="badge supported">✅ 支持</span></td>
            <td>检查 CodeBuddy Code 的状态和环境</td>
          </tr>
          <tr>
            <td><code>/status</code></td>
            <td><span class="badge supported">✅ 支持</span></td>
            <td>显示当前仓库和会话的状态</td>
          </tr>
          <tr>
            <td><code>/add-dir</code></td>
            <td><span class="badge supported">✅ 支持</span></td>
            <td>提示时添加目录内容</td>
          </tr>
          <tr>
            <td><code>/agents</code></td>
            <td><span class="badge unsupported">❌ 暂不支持</span></td>
            <td>管理实验性 AI 智能体</td>
          </tr>
          <tr>
            <td><code>/compact</code></td>
            <td><span class="badge supported">✅ 支持</span></td>
            <td>压缩上下文</td>
          </tr>
          <tr>
            <td><code>/config</code></td>
            <td><span class="badge supported">✅ 支持</span></td>
            <td>查看或修改本地配置</td>
          </tr>
          <tr>
            <td><code>/cost</code></td>
            <td><span class="badge supported">✅ 支持</span></td>
            <td>显示会话的成本和 Token 使用情况</td>
          </tr>
          <tr>
            <td><code>/init</code></td>
            <td><span class="badge supported">✅ 支持</span></td>
            <td>初始化一个新的 CodeBuddy 存储库</td>
          </tr>
          <tr>
            <td><code>/mcp</code></td>
            <td><span class="badge supported">✅ 支持</span></td>
            <td>管理 MCP 连接</td>
          </tr>
          <tr>
            <td><code>/memory</code></td>
            <td><span class="badge unsupported">❌ 暂不支持</span></td>
            <td>管理长期记忆</td>
          </tr>
          <tr>
            <td><code>/model</code></td>
            <td><span class="badge supported">✅ 支持</span></td>
            <td>切换或查看当前使用的 AI 模型</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="section">
      <h2>🛠️ 自定义斜杠命令</h2>
      <p>这是 CodeBuddy Code 最强大的功能之一。您可以将常用的提示(Prompts)、脚本和工作流封装成可复用的自定义命令，从而极大地提升效率。</p>
      
      <div class="card">
        <h3>📁 创建自定义命令</h3>
        <p>自定义命令通过在特定目录中创建 <code>.md</code> (Markdown) 文件来定义：</p>
        <ul>
          <li><strong>项目级命令</strong>：在项目根目录下创建 <code>.codebuddy/commands/</code> 文件夹。此处的命令对所有项目协作者可用。</li>
          <li><strong>个人全局命令</strong>：在用户主目录下创建 <code>~/.codebuddy/commands/</code> 文件夹。此处的命令在您所有的项目中都可用。</li>
        </ul>
        <p>创建一个命令，只需在上述任一目录中添加一个 <code>.md</code> 文件即可。例如，<code>test.md</code> 文件会自动注册为 <code>/test</code> 命令。</p>
      </div>

      <div class="card">
        <h3>📝 Frontmatter 与元数据</h3>
        <p>您可以在 Markdown 文件的顶部使用 YAML Frontmatter 来定义命令的元数据：</p>
        <pre><code>---
description: "为我的项目运行单元测试并报告结果。"
argument-hint: "[test-file]"
---

请为我运行 `npm run test -- [test-file]` 命令，并总结测试结果。如果未提供测试文件，则运行所有测试。</code></pre>
        <p><strong>支持的元数据字段：</strong></p>
        <ul>
          <li><code>description</code>：命令的简短描述，会在自动补全提示中显示</li>
          <li><code>argument-hint</code>：描述命令需要的参数，为用户提供输入提示</li>
        </ul>
      </div>

      <div class="card">
        <h3>🔧 使用参数</h3>
        <p>您的自定义命令可以接收参数，就像 Shell 脚本一样：</p>
        <ul>
          <li><code>$ARGUMENTS</code>：包含所有传递给命令的参数，作为一个单一的字符串</li>
          <li><code>$1</code>, <code>$2</code>, ...：按位置访问单个参数</li>
        </ul>
        
        <p><strong>示例：<code>greet.md</code></strong></p>
        <pre><code>---
description: "发送一个可定制的问候。"
argument-hint: "[name]"
---

向 **$1** 说"你好！"。如果 $1 为空，则向"世界"问好。</code></pre>
        <p>调用 <code>/greet "CodeBuddy"</code> 时，<code>$1</code> 的值就是 <code>"CodeBuddy"</code>。</p>
      </div>

      <div class="card">
        <h3>⚡ 执行 Shell 命令</h3>
        <p>在命令的任何一行前面加上 <code>!</code> 前缀，该行就会被当作 Shell 命令执行，其输出 (<code>stdout</code>) 会被捕获并注入到上下文中，供 AI 后续分析。</p>
        
        <p><strong>示例：<code>status.md</code></strong></p>
        <pre><code>---
description: "显示当前的 git 仓库状态并进行分析。"
---

!git status

请基于上面的 `git status` 输出，为我总结当前分支的状况。</code></pre>
      </div>
    </div>
  </main>

  <footer>
    <div class="footer-flag"></div>
    <div class="container">
      <div class="ukraine-statement">
        <h4>🇺🇦 支持乌克兰，谴责侵略</h4>
        <p>我们坚决支持乌克兰人民，强烈谴责俄罗斯的非法侵略战争和在乌克兰犯下的战争罪行。和平、主权和国际法必须得到尊重。</p>
      </div>
      <p>© 2025 Tencent Cloud • 由腾讯云团队开发维护</p>
    </div>
  </footer>
</body>
</html>